<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Centre QCM & Satisfaction</title>
    <link rel="stylesheet" href="style2.css">
</head>
<body style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh;">
    <!-- Barre de navigation principale -->
    <nav class="main-nav">
        <div class="nav-container">
            <h2 class="nav-logo">üìö Centre QCM & Satisfaction</h2>
            <div class="nav-buttons">
                <button class="nav-btn active" data-app="menu" onclick="switchApp('menu')">üéØ Centre QCM</button>
                <button class="nav-btn" data-app="satisfaction" onclick="switchApp('satisfaction')">üìä Indice de Satisfaction</button>
            </div>
        </div>
    </nav>

    <!-- Container principal -->
    <main class="app-container">
        <!-- APP 1: Menu QCM -->
        <div id="menu" class="app-page active">
            <div class="menu-app">
                <header>
                    <h1>üéØ Centre de QCM</h1>
                    <p class="subtitle">S√©lectionnez un quizz pour commencer ou cr√©ez le v√¥tre</p>
                    <button id="toggle-creator" class="btn btn-create">+ Cr√©er un nouveau quizz</button>
                </header>

                <!-- Section Cr√©ateur de Quizz -->
                <section id="quiz-creator" class="quiz-creator" hidden>
                    <h2>Cr√©er un nouveau quizz</h2>
                    <form id="quiz-form">
                        <div class="form-group">
                            <label for="quiz-title">Titre du quizz</label>
                            <input type="text" id="quiz-title" placeholder="ex: G√©ographie Avanc√©e" required>
                        </div>

                        <div class="form-group">
                            <label for="quiz-description">Description</label>
                            <input type="text" id="quiz-description" placeholder="ex: Testez vos connaissances..." required>
                        </div>

                        <div class="form-group">
                            <label for="quiz-icon">Emoji (ic√¥ne)</label>
                            <input type="text" id="quiz-icon" placeholder="ex: üåç" maxlength="2" value="üìù" required>
                        </div>

                        <div id="questions-container"></div>

                        <button type="button" id="add-question" class="btn btn-secondary">+ Ajouter une question</button>
                        <div class="form-actions">
                            <button type="submit" class="btn primary">Cr√©er le quizz</button>
                            <button type="button" id="cancel-creator" class="btn">Annuler</button>
                        </div>
                    </form>
                </section>

                <!-- Section des Quizz -->
                <section class="quizz-grid" id="quizz-container">
                    <!-- Les quizz seront g√©n√©r√©s par JavaScript -->
                </section>

                <footer class="footer">
                    <a href="../basequizz/index.html" class="btn-link">‚Üê Retour aux contr√¥les de base</a>
                </footer>
            </div>
        </div>

        <!-- APP 2: Indice de Satisfaction -->
        <div id="satisfaction" class="app-page">
            <div class="container">
                <!-- En-t√™te -->
                <header class="header">
                    <h1>üìä Indice de Satisfaction</h1>
                    <p class="subtitle">G√©rez et analysez la satisfaction de vos clients</p>
                </header>

                <!-- Navigation -->
                <nav class="nav-tabs">
                    <button class="tab-btn active" data-tab="dashboard">Tableau de bord</button>
                    <button class="tab-btn" data-tab="create-survey">Cr√©er un questionnaire</button>
                    <button class="tab-btn" data-tab="surveys">Mes questionnaires</button>
                    <button class="tab-btn" data-tab="results">R√©sultats</button>
                </nav>

                <!-- Tableau de bord -->
                <section id="dashboard" class="tab-content active">
                    <div class="dashboard-grid">
                        <div class="stat-card">
                            <h3>Score Global</h3>
                            <div class="stat-value" id="globalScore">0%</div>
                            <p class="stat-label">Moyenne g√©n√©rale</p>
                        </div>
                        <div class="stat-card">
                            <h3>Questionnaires</h3>
                            <div class="stat-value" id="surveyCount">0</div>
                            <p class="stat-label">Actifs</p>
                        </div>
                        <div class="stat-card">
                            <h3>R√©ponses</h3>
                            <div class="stat-value" id="responseCount">0</div>
                            <p class="stat-label">Total</p>
                        </div>
                        <div class="stat-card">
                            <h3>Taux de satisfaction</h3>
                            <div class="stat-value" id="satisfactionRate">0%</div>
                            <p class="stat-label">Clients satisfaits (‚â•4/5)</p>
                        </div>
                    </div>
                </section>

                <!-- Cr√©er un questionnaire -->
                <section id="create-survey" class="tab-content">
                    <div class="form-section">
                        <h2>Cr√©er un nouveau questionnaire</h2>
                        <form id="surveyForm" class="survey-form">
                            <div class="form-group">
                                <label for="surveyTitle">Titre du questionnaire</label>
                                <input type="text" id="surveyTitle" placeholder="Ex: Satisfaction juin 2024" required>
                            </div>

                            <div class="form-group">
                                <label for="surveyDescription">Description</label>
                                <textarea id="surveyDescription" placeholder="D√©crivez l'objectif du questionnaire" rows="3"></textarea>
                            </div>

                            <div class="questions-section">
                                <h3>Questions</h3>
                                <div id="questionsList"></div>
                                <button type="button" class="btn-secondary" id="addQuestionBtn">+ Ajouter une question</button>
                            </div>

                            <div class="form-actions">
                                <button type="submit" class="btn-primary">Cr√©er le questionnaire</button>
                                <button type="reset" class="btn-secondary">R√©initialiser</button>
                            </div>
                        </form>
                    </div>
                </section>

                <!-- Mes questionnaires -->
                <section id="surveys" class="tab-content">
                    <h2>Mes questionnaires</h2>
                    <div id="surveysList" class="surveys-list">
                        <p class="empty-state">Aucun questionnaire cr√©√©. <a href="#" onclick="switchTab('create-survey')">Cr√©ez-en un</a></p>
                    </div>
                </section>

                <!-- R√©sultats -->
                <section id="results" class="tab-content">
                    <h2>R√©sultats et Analyses</h2>
                    <div id="resultsList" class="results-list">
                        <p class="empty-state">Aucun r√©sultat disponible pour le moment.</p>
                    </div>
                </section>
            </div>

            <!-- Modal pour r√©pondre √† un questionnaire -->
            <div id="responseModal" class="modal">
                <div class="modal-content">
                    <span class="close">&times;</span>
                    <h2 id="modalTitle"></h2>
                    <p id="modalDescription"></p>
                    <form id="responseForm" class="response-form">
                        <div id="questionsResponse"></div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">Soumettre les r√©ponses</button>
                            <button type="button" class="btn-secondary" onclick="closeResponseModal()">Annuler</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Modal pour afficher les d√©tails d'un questionnaire -->
            <div id="detailsModal" class="modal">
                <div class="modal-content modal-lg">
                    <span class="close">&times;</span>
                    <h2 id="detailsTitle"></h2>
                    <div class="details-tabs">
                        <button class="details-tab-btn active" data-details-tab="info">Informations</button>
                        <button class="details-tab-btn" data-details-tab="responses">R√©ponses</button>
                    </div>
                    <div id="info" class="details-tab-content active">
                        <div id="surveyDetails"></div>
                    </div>
                    <div id="responses" class="details-tab-content">
                        <div id="responsesList"></div>
                    </div>
                    <div class="form-actions" style="margin-top: 20px;">
                        <button type="button" class="btn-primary" id="respondBtn">R√©pondre au questionnaire</button>
                        <button type="button" class="btn-danger" id="deleteBtn">Supprimer</button>
                        <button type="button" class="btn-secondary" onclick="closeDetailsModal()">Fermer</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script src="script-menu.js" defer></script>
    <script src="script-satisfaction.js" defer></script>
    <script src="script-navigation.js" defer></script>
</body>
</html>